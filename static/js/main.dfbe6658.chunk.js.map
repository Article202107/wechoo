{"version":3,"sources":["fbase.js","assets/js/common.js","routes/Question.js","routes/Home.js","routes/Profile.js","components/Navigation.js","routes/Auth.js","components/Router.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","authInstance","auth","authService","dbService","firestore","storageService","storage","imageUpload","userId","attachImage","a","downloadUrl","imageUploadRef","ref","child","uuidv4","putString","result","getDownloadURL","Question","questionObj","userObj","isOwner","creator","uid","useState","isEditing","setIsEditing","newQuestion","setNewQuestion","newItemA","setNewItemA","newItemB","setNewItemB","pickCount","setPickCount","answerList","setAnswerList","attachImageA","setAttachImageA","attachImageB","setAttachImageB","onDelete","window","confirm","collection","doc","id","delete","clearImages","imageUrlA","refFromURL","imageUrlB","changeQuestion","e","target","name","value","toggleEdit","question","itemA","itemB","document","querySelector","prev","useEffect","where","onSnapshot","snapshot","docs","map","data","pickCountA","filter","answer","pickCode","length","pickCountB","onSubmit","preventDefault","update","onPick","find","alert","add","qid","createAt","Date","now","onFileChange","event","theFile","files","reader","FileReader","onloadend","loadFile","currentTarget","readAsDataURL","cancelImage","fileSelector","className","placeholder","onChange","type","accept","src","alt","onClick","Home","setQuestion","setItemA","setItemB","questions","setQuestions","orderBy","required","Profile","Navigation","to","signOut","Auth","email","setEmail","password","setPasssword","newAccount","setNewAccount","error","setError","goSocialAuth","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","console","log","message","createUserWithEmailAndPassword","signInWithEmailAndPassword","AppRouter","isLoggedIn","exact","path","from","App","init","setInit","currentUser","setIsLoggedIn","setUserObj","onAuthStateChanged","user","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.dfbe6658.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_API_ID,\n  measurementId: process.env.REACT_APP_MEASUREMENT_ID,\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const authInstance = firebase.auth;\nexport const authService = firebase.auth();\nexport const dbService = firebase.firestore();\nexport const storageService = firebase.storage();\n","import { storageService } from \"fbase\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n//Firebase Image upload function\nexport const imageUpload = async (userId, attachImage) => {\n  let downloadUrl = \"\";\n\n  if (attachImage) {\n    const imageUploadRef = storageService\n      .ref()\n      .child(`images/${userId}/${uuidv4()}`);\n\n    const result = await imageUploadRef.putString(attachImage, \"data_url\");\n    downloadUrl = await result.ref.getDownloadURL();\n  }\n  return downloadUrl;\n};\n","import React, { useState, useEffect } from \"react\";\nimport { dbService, storageService } from \"fbase\";\nimport { imageUpload } from \"assets/js/common\";\n\nconst Question = ({ questionObj, userObj }) => {\n  const isOwner = questionObj.creator === userObj.uid;\n  const [isEditing, setIsEditing] = useState(false);\n  const [newQuestion, setNewQuestion] = useState(\"\");\n  const [newItemA, setNewItemA] = useState(\"\");\n  const [newItemB, setNewItemB] = useState(\"\");\n  const [pickCount, setPickCount] = useState({});\n  const [answerList, setAnswerList] = useState([]);\n  const [attachImageA, setAttachImageA] = useState(\"\");\n  const [attachImageB, setAttachImageB] = useState(\"\");\n\n  const onDelete = async () => {\n    const ok = window.confirm(\"삭제하시겠습니까?\");\n    if (ok) {\n      await dbService.collection(\"Question\").doc(questionObj.id).delete();\n      await clearImages();\n    }\n  };\n\n  const clearImages = async () => {\n    if (questionObj.imageUrlA) {\n      await storageService.refFromURL(questionObj.imageUrlA).delete();\n    }\n    if (questionObj.imageUrlB) {\n      await storageService.refFromURL(questionObj.imageUrlB).delete();\n    }\n  };\n\n  const changeQuestion = (e) => {\n    const {\n      target: { name, value },\n    } = e;\n\n    if (name === \"newQuestion\") {\n      setNewQuestion(value);\n    } else if (name === \"newItemA\") {\n      setNewItemA(value);\n    } else if (name === \"newItemB\") {\n      setNewItemB(value);\n    }\n  };\n\n  //\n  const toggleEdit = () => {\n    if (!isEditing) {\n      setNewQuestion(questionObj.question);\n      setNewItemA(questionObj.itemA);\n      setNewItemB(questionObj.itemB);\n      setAttachImageA(\"\");\n      setAttachImageB(\"\");\n      document.querySelector(\"input[name='fileA']\").value = null;\n      document.querySelector(\"input[name='fileB']\").value = null;\n    }\n    setIsEditing((prev) => !prev);\n  };\n\n  useEffect(() => {\n    dbService\n      .collection(\"Answer\")\n      .where(\"qid\", \"==\", questionObj.id)\n      .onSnapshot((snapshot) => {\n        const result = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n        }));\n\n        setAnswerList(result);\n        //console.log(answerCount);\n        setPickCount({\n          pickCountA: result.filter((answer) => answer.pickCode === \"A\").length,\n          pickCountB: result.filter((answer) => answer.pickCode === \"B\").length,\n        });\n      });\n  }, [questionObj.id]);\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n\n    //기존 이미지 삭제\n    await clearImages();\n\n    //이미지 첨부 확인\n    const imageUrlA = await imageUpload(userObj.uid, attachImageA);\n    const imageUrlB = await imageUpload(userObj.uid, attachImageB);\n\n    await dbService.collection(\"Question\").doc(questionObj.id).update({\n      question: newQuestion,\n      itemA: newItemA,\n      itemB: newItemB,\n      imageUrlA,\n      imageUrlB,\n    });\n    toggleEdit();\n  };\n\n  const onPick = async (pickCode) => {\n    if (answerList.find(({ uid }) => uid === userObj.uid)) {\n      alert(\"이미 선택하셨습니다.\");\n      return;\n    }\n\n    await dbService.collection(\"Answer\").add({\n      qid: questionObj.id,\n      uid: userObj.uid,\n      pickCode,\n      createAt: Date.now(),\n    });\n  };\n\n  const onFileChange = (event) => {\n    const {\n      target: { name, files },\n    } = event;\n    const theFile = files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = (loadFile) => {\n      const {\n        currentTarget: { result },\n      } = loadFile;\n\n      if (name === \"fileA\") {\n        setAttachImageA(result);\n      } else if (name === \"fileB\") {\n        setAttachImageB(result);\n      }\n\n      //console.log(attachImageA);\n    };\n\n    reader.readAsDataURL(theFile);\n  };\n\n  const cancelImage = (event) => {\n    event.preventDefault();\n\n    const {\n      target: { name },\n    } = event;\n\n    let fileSelector;\n    if (name === \"cancelImageA\") {\n      fileSelector = document.querySelector(\"input[name='fileA']\");\n      setAttachImageA(null);\n    } else if (name === \"cancelImageB\") {\n      fileSelector = document.querySelector(\"input[name='fileB']\");\n      setAttachImageB(null);\n    }\n    fileSelector.value = null;\n  };\n\n  return (\n    <>\n      {isEditing ? (\n        <>\n          <form className=\"form-question edit\" onSubmit={onSubmit}>\n            <input\n              name=\"newQuestion\"\n              placeholder=\"Title *\"\n              onChange={changeQuestion}\n              value={newQuestion}\n              className=\"question-title\"\n              type=\"text\"\n            />\n            <div className=\"form-question__select select-items\">\n              <div className=\"select-items__input\">\n                <input\n                  type=\"text\"\n                  name=\"newItemA\"\n                  className=\"item__input-text\"\n                  placeholder=\"A안\"\n                  value={newItemA}\n                  onChange={changeQuestion}\n                />\n                <input\n                  type=\"file\"\n                  name=\"fileA\"\n                  className=\"item__file-attach\"\n                  accept=\"image/*\"\n                  placeholder=\"첨부파일1\"\n                  onChange={onFileChange}\n                />\n                {attachImageA && (\n                  <div className=\"preview-image\">\n                    <img src={attachImageA} alt=\"A안 이미지\" />\n                    <button name=\"cancelImageA\" onClick={cancelImage}>\n                      Cancel\n                    </button>\n                  </div>\n                )}\n              </div>\n              <div className=\"select-items__input\">\n                <input\n                  type=\"text\"\n                  name=\"newItemB\"\n                  className=\"item__input-text\"\n                  placeholder=\"B안\"\n                  value={newItemB}\n                  onChange={changeQuestion}\n                />\n                <input\n                  type=\"file\"\n                  name=\"fileB\"\n                  className=\"item__file-attach\"\n                  accept=\"image/*\"\n                  placeholder=\"첨부파일2\"\n                  onChange={onFileChange}\n                />\n                {attachImageB && (\n                  <div className=\"preview-image\">\n                    <img src={attachImageB} alt=\"B안 이미지\" />\n                    <button name=\"cancelImageB\" onClick={cancelImage}>\n                      Cancel\n                    </button>\n                  </div>\n                )}\n              </div>\n            </div>\n            <input type=\"submit\" value=\"Edit\" />\n            <button onClick={toggleEdit}>Cancel</button>\n          </form>\n        </>\n      ) : (\n        <div className=\"question-card\">\n          <span className=\"question__title\">{questionObj.question}</span>\n          <div className=\"question__items\">\n            <div onClick={() => onPick(\"A\")} className=\"quest-item\">\n              <img\n                className=\"item-image\"\n                src={questionObj.imageUrlA}\n                alt=\"A안 이미지\"\n              />\n              <span className=\"item-count\">{pickCount.pickCountA}</span>\n              <span className=\"item-desc\">{questionObj.itemA}</span>\n            </div>\n            <div onClick={() => onPick(\"B\")} className=\"quest-item\">\n              <img\n                className=\"item-image\"\n                src={questionObj.imageUrlB}\n                alt=\"B안 이미지\"\n              />\n              <span className=\"item-count\">{pickCount.pickCountB}</span>\n              <span className=\"item-desc\">{questionObj.itemB}</span>\n            </div>\n          </div>\n          <div className=\"question-edit\">\n            {isOwner && (\n              <div className=\"edit-buttons\">\n                <button onClick={onDelete}>삭제</button>\n                <button onClick={toggleEdit}>수정</button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Question;\n","import React, { useState, useEffect } from \"react\";\nimport { dbService } from \"fbase\";\nimport Question from \"./Question\";\nimport { imageUpload } from \"assets/js/common\";\n\nconst Home = ({ userObj }) => {\n  const [question, setQuestion] = useState(\"\");\n  const [itemA, setItemA] = useState(\"\");\n  const [itemB, setItemB] = useState(\"\");\n  const [questions, setQuestions] = useState([]);\n  const [attachImageA, setAttachImageA] = useState(\"\");\n  const [attachImageB, setAttachImageB] = useState(\"\");\n\n  /* const getquestions = async () => {\n    const docs = await dbService.collection(\"question\").get();\n    docs.forEach((doc) => {\n      const { id } = doc;\n      const docData = doc.data();\n      setQuestions((pre) => [{ id, ...docData }, ...pre]);\n    });\n  }; */\n\n  useEffect(() => {\n    dbService\n      .collection(\"Question\")\n      .orderBy(\"createAt\", \"desc\")\n      .onSnapshot((snapshot) => {\n        const docs = snapshot.docs.map((doc) => ({\n          id: doc.id,\n          ...doc.data(),\n          pickCountA: 0,\n          pickCountB: 0,\n        }));\n\n        setQuestions(docs);\n      });\n  }, []);\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n\n    if (name === \"question\") {\n      setQuestion(value);\n    } else if (name === \"itemA\") {\n      setItemA(value);\n    } else if (name === \"itemB\") {\n      setItemB(value);\n    }\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n\n    const imageUrlA = await imageUpload(userObj.uid, attachImageA);\n    const imageUrlB = await imageUpload(userObj.uid, attachImageB);\n\n    await dbService.collection(\"Question\").add({\n      question,\n      itemA,\n      imageUrlA,\n      itemB,\n      imageUrlB,\n      creator: userObj.uid,\n      createAt: Date.now(),\n    });\n\n    // console.log(result);\n    //console.log(\">>>> result : \" + JSON.stringify(result));\n\n    setQuestion(\"\");\n    setAttachImageA(null);\n    setAttachImageB(null);\n    document.querySelector(\"input[name='fileA']\").value = null;\n    document.querySelector(\"input[name='fileB']\").value = null;\n  };\n\n  const onFileChange = (event) => {\n    const {\n      target: { name, files },\n    } = event;\n    const theFile = files[0];\n    const reader = new FileReader();\n\n    reader.onloadend = (loadFile) => {\n      const {\n        currentTarget: { result },\n      } = loadFile;\n\n      if (name === \"fileA\") {\n        setAttachImageA(result);\n      } else if (name === \"fileB\") {\n        setAttachImageB(result);\n      }\n\n      //console.log(attachImageA);\n    };\n\n    reader.readAsDataURL(theFile);\n  };\n\n  const cancelImage = (event) => {\n    event.preventDefault();\n\n    const {\n      target: { name },\n    } = event;\n\n    let fileSelector;\n    if (name === \"cancelImageA\") {\n      fileSelector = document.querySelector(\"input[name='fileA']\");\n      setAttachImageA(null);\n    } else if (name === \"cancelImageB\") {\n      fileSelector = document.querySelector(\"input[name='fileB']\");\n      setAttachImageB(null);\n    }\n    fileSelector.value = null;\n  };\n\n  const regCancel = (event) => {\n    event.preventDefault();\n  };\n\n  return (\n    <div className=\"home-main main\">\n      <form className=\"form-question\" onSubmit={onSubmit}>\n        <input\n          name=\"question\"\n          placeholder=\"Title *\"\n          value={question}\n          onChange={onChange}\n          className=\"question-title\"\n          type=\"text\"\n          required\n        />\n        <div className=\"div-line\"></div>\n        <div className=\"form-question__select select-items\">\n          <div className=\"select-items__input\">\n            <input\n              type=\"text\"\n              name=\"itemA\"\n              className=\"item__input-text\"\n              placeholder=\"선택1 *\"\n              value={itemA}\n              onChange={onChange}\n              required\n            />\n            <input\n              type=\"file\"\n              name=\"fileA\"\n              className=\"item__file-attach\"\n              accept=\"image/*\"\n              placeholder=\"첨부파일1\"\n              onChange={onFileChange}\n            />\n            {attachImageA && (\n              <div className=\"preview-image\">\n                <img src={attachImageA} alt=\"A안 이미지\" />\n                <button name=\"cancelImageA\" onClick={cancelImage}>\n                  Cancel\n                </button>\n              </div>\n            )}\n          </div>\n          <div className=\"div-line\"></div>\n          <div className=\"select-items__input\">\n            <input\n              type=\"text\"\n              name=\"itemB\"\n              className=\"item__input-text\"\n              placeholder=\"선택2 *\"\n              value={itemB}\n              onChange={onChange}\n              required\n            />\n            <input\n              type=\"file\"\n              name=\"fileB\"\n              className=\"item__file-attach\"\n              accept=\"image/*\"\n              placeholder=\"첨부파일2\"\n              onChange={onFileChange}\n            />\n            {attachImageB && (\n              <div className=\"preview-image\">\n                <img src={attachImageB} alt=\"B안 이미지\" />\n                <button name=\"cancelImageB\" onClick={cancelImage}>\n                  Cancel\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n        <div className=\"question-buttons\">\n          <button className=\"question-cancel\" onClick={regCancel}>\n            취 소\n          </button>\n          <input className=\"question-submit\" type=\"submit\" value=\"등 록\" />\n        </div>\n      </form>\n      <div>\n        {questions.map((question) => (\n          <Question\n            key={question.id}\n            questionObj={question}\n            userObj={userObj}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React from \"react\";\n\nconst Profile = () => <span>Profile</span>;\nexport default Profile;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { authService } from \"fbase\";\n\nconst Navigation = () => {\n  const onLogOut = () => {\n    authService.signOut();\n  };\n\n  return (\n    <nav className=\"header\">\n      <ul className=\"header__menu\">\n        <li className=\"header__menu-item\">\n          <Link to=\"/\">Home</Link>\n        </li>\n        <li className=\"header__menu-item\">\n          <Link to=\"/profile\">Profile</Link>\n        </li>\n      </ul>\n      <input\n        type=\"button\"\n        className=\"header__logout\"\n        value=\"Log Out\"\n        onClick={onLogOut}\n      />\n    </nav>\n  );\n};\n\nexport default Navigation;\n","import React, { useState } from \"react\";\nimport { authService, authInstance } from \"fbase\";\n// import \"assets/scss/pages/auth.scss\";\n\nconst Auth = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPasssword] = useState(\"\");\n  const [newAccount, setNewAccount] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  const onChange = (event) => {\n    const {\n      target: { name, value },\n    } = event;\n\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPasssword(value);\n    }\n  };\n\n  const goSocialAuth = async (event) => {\n    const {\n      target: { name },\n    } = event;\n\n    let provider;\n    try {\n      if (name === \"google\") {\n        provider = new authInstance.GoogleAuthProvider();\n      } else if (name === \"github\") {\n        provider = new authInstance.GithubAuthProvider();\n      }\n      const data = await authService.signInWithPopup(provider);\n      console.log(data);\n    } catch (error) {\n      //setError(error.message);\n      console.log(error.message);\n    }\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    let data;\n    try {\n      if (newAccount) {\n        data = await authService.createUserWithEmailAndPassword(\n          email,\n          password\n        );\n      } else {\n        data = await authService.signInWithEmailAndPassword(email, password);\n      }\n      console.log(data);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const toggleAccount = () => setNewAccount(!newAccount);\n\n  return (\n    <div className=\"auth-main main\">\n      <h1 className=\"login-title\">Login</h1>\n      <form className=\"signin-form\" onSubmit={onSubmit}>\n        <input\n          type=\"text\"\n          name=\"email\"\n          value={email}\n          onChange={onChange}\n          placeholder=\"Email Address *\"\n          className=\"signin-form__email\"\n          required\n        />\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={password}\n          onChange={onChange}\n          placeholder=\"Password *\"\n          className=\"signin-form__password\"\n          required\n        />\n        <input\n          type=\"submit\"\n          value={newAccount ? \"회원가입\" : \"로그인\"}\n          className=\"signin-form__submit\"\n        />\n        <div>{error}</div>\n      </form>\n      <div className=\"social-login\">\n        <button\n          className=\"social-login__google\"\n          name=\"google\"\n          onClick={goSocialAuth}\n        >\n          Continue with Google\n        </button>\n        <button\n          className=\"social-login__github\"\n          name=\"github\"\n          onClick={goSocialAuth}\n        >\n          Continue with Github\n        </button>\n      </div>\n      <span className=\"toggle-account\" onClick={toggleAccount}>\n        {newAccount ? \"로그인\" : \"회원가입\"}\n      </span>\n    </div>\n  );\n};\n\nexport default Auth;\n","import React from \"react\";\nimport {\n  HashRouter as Router,\n  Route,\n  Switch,\n  Redirect,\n} from \"react-router-dom\";\nimport Home from \"routes/Home\";\nimport Profile from \"routes/Profile\";\nimport Navigation from \"./Navigation\";\n// import SignIn from \"routes/SignIn\";\nimport Auth from \"routes/Auth\";\n\nconst AppRouter = ({ isLoggedIn, userObj }) => {\n  return (\n    <Router>\n      {isLoggedIn ? <Navigation></Navigation> : \"\"}\n      <Switch>\n        {isLoggedIn ? (\n          <>\n            <Route exact path=\"/\">\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path=\"/profile\">\n              <Profile />\n            </Route>\n            <Redirect from=\"/*\" to=\"/\" />\n          </>\n        ) : (\n          <>\n            <Route exact path=\"/\">\n              <Auth />\n            </Route>\n            <Redirect from=\"/*\" to=\"/\" />\n          </>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import AppRouter from \"components/Router\";\nimport { useState, useEffect } from \"react\";\nimport { authService } from \"fbase\";\n\nfunction App() {\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(authService.currentUser);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      // console.log(user);\n      if (user) {\n        setIsLoggedIn(true);\n        setUserObj(user);\n      } else {\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  });\n\n  return (\n    <>\n      {init ? (\n        <AppRouter isLoggedIn={isLoggedIn} userObj={userObj} />\n      ) : (\n        \"Loading...\"\n      )}\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\nimport \"assets/scss/styles.scss\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}